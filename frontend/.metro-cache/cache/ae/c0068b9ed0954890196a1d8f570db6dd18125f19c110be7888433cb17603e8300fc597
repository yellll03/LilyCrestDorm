{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":38,"index":198}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const checkAuth = async () => {\n      try {\n        setIsLoading(true);\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          const response = await _servicesApi.api.get('/auth/me', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('session_token');\n        setUser(null);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        setIsLoading(true);\n        // For now, we use Google OAuth, so this is a placeholder\n        return false;\n      } catch (error) {\n        console.error('Login error:', error);\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const processSessionId = async sessionId => {\n      try {\n        setIsLoading(true);\n        const response = await _servicesApi.api.post('/auth/session', {\n          session_id: sessionId\n        });\n        const {\n          user: userData,\n          session_token\n        } = response.data;\n        await AsyncStorage.default.setItem('session_token', session_token);\n        setUser(userData);\n        return true;\n      } catch (error) {\n        console.error('Process session error:', error);\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const logout = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          await _servicesApi.api.post('/auth/logout', {}, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        await AsyncStorage.default.removeItem('session_token');\n        setUser(null);\n      }\n    };\n    const updateUser = data => {\n      if (user) {\n        setUser({\n          ...user,\n          ...data\n        });\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        login,\n        logout,\n        checkAuth,\n        processSessionId,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":127,"map":[[13,2,27,0,"exports"],[13,9,27,0],[13,10,27,0,"AuthProvider"],[13,22,27,0],[13,25,27,0,"AuthProvider"],[13,37,27,0],[14,2,119,0,"exports"],[14,9,119,0],[14,10,119,0,"useAuth"],[14,17,119,0],[14,20,119,0,"useAuth"],[14,27,119,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_servicesApi"],[18,18,3,0],[18,21,3,0,"require"],[18,28,3,0],[18,29,3,0,"_dependencyMap"],[18,43,3,0],[19,2,3,38],[19,6,3,38,"_reactJsxDevRuntime"],[19,25,3,38],[19,28,3,38,"require"],[19,35,3,38],[19,36,3,38,"_dependencyMap"],[19,50,3,38],[20,2,25,0],[20,8,25,6,"AuthContext"],[20,19,25,17],[20,35,25,20],[20,39,25,20,"createContext"],[20,45,25,33],[20,46,25,33,"createContext"],[20,59,25,33],[20,61,25,63,"undefined"],[20,70,25,72],[20,71,25,73],[21,2,27,7],[21,11,27,16,"AuthProvider"],[21,23,27,28,"AuthProvider"],[21,24,27,29],[22,4,27,31,"children"],[23,2,27,65],[23,3,27,66],[23,5,27,68],[24,4,28,2],[24,10,28,8],[24,11,28,9,"user"],[24,15,28,13],[24,17,28,15,"setUser"],[24,24,28,22],[24,25,28,23],[24,28,28,26],[24,32,28,26,"useState"],[24,38,28,34],[24,39,28,34,"useState"],[24,47,28,34],[24,49,28,48],[24,53,28,52],[24,54,28,53],[25,4,29,2],[25,10,29,8],[25,11,29,9,"isLoading"],[25,20,29,18],[25,22,29,20,"setIsLoading"],[25,34,29,32],[25,35,29,33],[25,38,29,36],[25,42,29,36,"useState"],[25,48,29,44],[25,49,29,44,"useState"],[25,57,29,44],[25,59,29,45],[25,63,29,49],[25,64,29,50],[26,4,31,2],[26,10,31,8,"checkAuth"],[26,19,31,17],[26,22,31,20],[26,28,31,20,"checkAuth"],[26,29,31,20],[26,34,31,32],[27,6,32,4],[27,10,32,8],[28,8,33,6,"setIsLoading"],[28,20,33,18],[28,21,33,19],[28,25,33,23],[28,26,33,24],[29,8,34,6],[29,14,34,12,"token"],[29,19,34,17],[29,22,34,20],[29,28,34,26,"AsyncStorage"],[29,40,34,38],[29,41,34,38,"default"],[29,48,34,38],[29,49,34,39,"getItem"],[29,56,34,46],[29,57,34,47],[29,72,34,62],[29,73,34,63],[30,8,35,6],[30,12,35,10,"token"],[30,17,35,15],[30,19,35,17],[31,10,36,8],[31,16,36,14,"response"],[31,24,36,22],[31,27,36,25],[31,33,36,31,"api"],[31,45,36,34],[31,46,36,34,"api"],[31,49,36,34],[31,50,36,35,"get"],[31,53,36,38],[31,54,36,39],[31,64,36,49],[31,66,36,51],[32,12,37,10,"headers"],[32,19,37,17],[32,21,37,19],[33,14,37,21,"Authorization"],[33,27,37,34],[33,29,37,36],[33,39,37,46,"token"],[33,44,37,51],[34,12,37,54],[35,10,38,8],[35,11,38,9],[35,12,38,10],[36,10,39,8,"setUser"],[36,17,39,15],[36,18,39,16,"response"],[36,26,39,24],[36,27,39,25,"data"],[36,31,39,29],[36,32,39,30],[37,8,40,6],[38,6,41,4],[38,7,41,5],[38,8,41,6],[38,15,41,13,"error"],[38,20,41,18],[38,22,41,20],[39,8,42,6,"console"],[39,15,42,13],[39,16,42,14,"log"],[39,19,42,17],[39,20,42,18],[39,40,42,38],[39,42,42,40,"error"],[39,47,42,45],[39,48,42,46],[40,8,43,6],[40,14,43,12,"AsyncStorage"],[40,26,43,24],[40,27,43,24,"default"],[40,34,43,24],[40,35,43,25,"removeItem"],[40,45,43,35],[40,46,43,36],[40,61,43,51],[40,62,43,52],[41,8,44,6,"setUser"],[41,15,44,13],[41,16,44,14],[41,20,44,18],[41,21,44,19],[42,6,45,4],[42,7,45,5],[42,16,45,14],[43,8,46,6,"setIsLoading"],[43,20,46,18],[43,21,46,19],[43,26,46,24],[43,27,46,25],[44,6,47,4],[45,4,48,2],[45,5,48,3],[46,4,50,2],[46,10,50,8,"login"],[46,15,50,13],[46,18,50,16],[46,24,50,16,"login"],[46,25,50,23,"email"],[46,30,50,36],[46,32,50,38,"password"],[46,40,50,54],[46,45,50,77],[47,6,51,4],[47,10,51,8],[48,8,52,6,"setIsLoading"],[48,20,52,18],[48,21,52,19],[48,25,52,23],[48,26,52,24],[49,8,53,6],[50,8,54,6],[50,15,54,13],[50,20,54,18],[51,6,55,4],[51,7,55,5],[51,8,55,6],[51,15,55,13,"error"],[51,20,55,18],[51,22,55,20],[52,8,56,6,"console"],[52,15,56,13],[52,16,56,14,"error"],[52,21,56,19],[52,22,56,20],[52,36,56,34],[52,38,56,36,"error"],[52,43,56,41],[52,44,56,42],[53,8,57,6],[53,15,57,13],[53,20,57,18],[54,6,58,4],[54,7,58,5],[54,16,58,14],[55,8,59,6,"setIsLoading"],[55,20,59,18],[55,21,59,19],[55,26,59,24],[55,27,59,25],[56,6,60,4],[57,4,61,2],[57,5,61,3],[58,4,63,2],[58,10,63,8,"processSessionId"],[58,26,63,24],[58,29,63,27],[58,35,63,34,"sessionId"],[58,44,63,51],[58,48,63,74],[59,6,64,4],[59,10,64,8],[60,8,65,6,"setIsLoading"],[60,20,65,18],[60,21,65,19],[60,25,65,23],[60,26,65,24],[61,8,66,6],[61,14,66,12,"response"],[61,22,66,20],[61,25,66,23],[61,31,66,29,"api"],[61,43,66,32],[61,44,66,32,"api"],[61,47,66,32],[61,48,66,33,"post"],[61,52,66,37],[61,53,66,38],[61,68,66,53],[61,70,66,55],[62,10,66,57,"session_id"],[62,20,66,67],[62,22,66,69,"sessionId"],[63,8,66,79],[63,9,66,80],[63,10,66,81],[64,8,67,6],[64,14,67,12],[65,10,67,14,"user"],[65,14,67,18],[65,16,67,20,"userData"],[65,24,67,28],[66,10,67,30,"session_token"],[67,8,67,44],[67,9,67,45],[67,12,67,48,"response"],[67,20,67,56],[67,21,67,57,"data"],[67,25,67,61],[68,8,69,6],[68,14,69,12,"AsyncStorage"],[68,26,69,24],[68,27,69,24,"default"],[68,34,69,24],[68,35,69,25,"setItem"],[68,42,69,32],[68,43,69,33],[68,58,69,48],[68,60,69,50,"session_token"],[68,73,69,63],[68,74,69,64],[69,8,70,6,"setUser"],[69,15,70,13],[69,16,70,14,"userData"],[69,24,70,22],[69,25,70,23],[70,8,71,6],[70,15,71,13],[70,19,71,17],[71,6,72,4],[71,7,72,5],[71,8,72,6],[71,15,72,13,"error"],[71,20,72,18],[71,22,72,20],[72,8,73,6,"console"],[72,15,73,13],[72,16,73,14,"error"],[72,21,73,19],[72,22,73,20],[72,46,73,44],[72,48,73,46,"error"],[72,53,73,51],[72,54,73,52],[73,8,74,6],[73,15,74,13],[73,20,74,18],[74,6,75,4],[74,7,75,5],[74,16,75,14],[75,8,76,6,"setIsLoading"],[75,20,76,18],[75,21,76,19],[75,26,76,24],[75,27,76,25],[76,6,77,4],[77,4,78,2],[77,5,78,3],[78,4,80,2],[78,10,80,8,"logout"],[78,16,80,14],[78,19,80,17],[78,25,80,17,"logout"],[78,26,80,17],[78,31,80,29],[79,6,81,4],[79,10,81,8],[80,8,82,6],[80,14,82,12,"token"],[80,19,82,17],[80,22,82,20],[80,28,82,26,"AsyncStorage"],[80,40,82,38],[80,41,82,38,"default"],[80,48,82,38],[80,49,82,39,"getItem"],[80,56,82,46],[80,57,82,47],[80,72,82,62],[80,73,82,63],[81,8,83,6],[81,12,83,10,"token"],[81,17,83,15],[81,19,83,17],[82,10,84,8],[82,16,84,14,"api"],[82,28,84,17],[82,29,84,17,"api"],[82,32,84,17],[82,33,84,18,"post"],[82,37,84,22],[82,38,84,23],[82,52,84,37],[82,54,84,39],[82,55,84,40],[82,56,84,41],[82,58,84,43],[83,12,85,10,"headers"],[83,19,85,17],[83,21,85,19],[84,14,85,21,"Authorization"],[84,27,85,34],[84,29,85,36],[84,39,85,46,"token"],[84,44,85,51],[85,12,85,54],[86,10,86,8],[86,11,86,9],[86,12,86,10],[87,8,87,6],[88,6,88,4],[88,7,88,5],[88,8,88,6],[88,15,88,13,"error"],[88,20,88,18],[88,22,88,20],[89,8,89,6,"console"],[89,15,89,13],[89,16,89,14,"error"],[89,21,89,19],[89,22,89,20],[89,37,89,35],[89,39,89,37,"error"],[89,44,89,42],[89,45,89,43],[90,6,90,4],[90,7,90,5],[90,16,90,14],[91,8,91,6],[91,14,91,12,"AsyncStorage"],[91,26,91,24],[91,27,91,24,"default"],[91,34,91,24],[91,35,91,25,"removeItem"],[91,45,91,35],[91,46,91,36],[91,61,91,51],[91,62,91,52],[92,8,92,6,"setUser"],[92,15,92,13],[92,16,92,14],[92,20,92,18],[92,21,92,19],[93,6,93,4],[94,4,94,2],[94,5,94,3],[95,4,96,2],[95,10,96,8,"updateUser"],[95,20,96,18],[95,23,96,22,"data"],[95,27,96,41],[95,31,96,46],[96,6,97,4],[96,10,97,8,"user"],[96,14,97,12],[96,16,97,14],[97,8,98,6,"setUser"],[97,15,98,13],[97,16,98,14],[98,10,98,16],[98,13,98,19,"user"],[98,17,98,23],[99,10,98,25],[99,13,98,28,"data"],[100,8,98,33],[100,9,98,34],[100,10,98,35],[101,6,99,4],[102,4,100,2],[102,5,100,3],[103,4,102,2],[103,24,103,4],[103,28,103,4,"_reactJsxDevRuntime"],[103,47,103,4],[103,48,103,4,"jsxDEV"],[103,54,103,4],[103,56,103,5,"AuthContext"],[103,67,103,16],[103,68,103,17,"Provider"],[103,76,103,25],[104,6,104,6,"value"],[104,11,104,11],[104,13,104,13],[105,8,105,8,"user"],[105,12,105,12],[106,8,106,8,"isLoading"],[106,17,106,17],[107,8,107,8,"login"],[107,13,107,13],[108,8,108,8,"logout"],[108,14,108,14],[109,8,109,8,"checkAuth"],[109,17,109,17],[110,8,110,8,"processSessionId"],[110,24,110,24],[111,8,111,8,"updateUser"],[112,6,112,6],[112,7,112,8],[113,6,112,8,"children"],[113,14,112,8],[113,16,114,7,"children"],[114,4,114,15],[115,6,114,15,"fileName"],[115,14,114,15],[115,16,114,15,"_jsxFileName"],[115,28,114,15],[116,6,114,15,"lineNumber"],[116,16,114,15],[117,6,114,15,"columnNumber"],[117,18,114,15],[118,4,114,15],[118,11,115,26],[118,12,115,27],[119,2,117,0],[120,2,119,7],[120,11,119,16,"useAuth"],[120,18,119,23,"useAuth"],[120,19,119,23],[120,21,119,26],[121,4,120,2],[121,10,120,8,"context"],[121,17,120,15],[121,20,120,18],[121,24,120,18,"useContext"],[121,30,120,28],[121,31,120,28,"useContext"],[121,41,120,28],[121,43,120,29,"AuthContext"],[121,54,120,40],[121,55,120,41],[122,4,121,2],[122,8,121,6,"context"],[122,15,121,13],[122,20,121,18,"undefined"],[122,29,121,27],[122,31,121,29],[123,6,122,4],[123,12,122,10],[123,16,122,14,"Error"],[123,21,122,19],[123,22,122,20],[123,67,122,65],[123,68,122,66],[124,4,123,2],[125,4,124,2],[125,11,124,9,"context"],[125,18,124,16],[126,2,125,0],[127,0,125,1],[127,3]],"functionMap":{"names":["<global>","AuthProvider","checkAuth","login","processSessionId","logout","updateUser","useAuth"],"mappings":"AAA;OC0B;oBCI;GDiB;gBEE;GFW;2BGE;GHe;iBIE;GJc;qBKE;GLI;CDiB;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}