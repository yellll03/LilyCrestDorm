{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Text","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"JKIzsQ5YQ0gDj0MIyY0Q7F1zJtU=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":124},"end":{"line":3,"column":62,"index":186}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"../src/context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":53,"index":240}}],"key":"YFOiIQT6E6I699spMpMTUXmic+k=","exportNames":["*"],"imports":1}},{"name":"expo-linking","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":241},"end":{"line":5,"column":40,"index":281}}],"key":"UOn5wJuCXvTT9EneNUmI6H0GQgM=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/auth-callback.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthCallback;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsText = require(_dependencyMap[4], \"react-native-web/dist/exports/Text\");\n  var Text = _interopDefault(_reactNativeWebDistExportsText);\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _srcContextAuthContext = require(_dependencyMap[6], \"../src/context/AuthContext\");\n  var _expoLinking = require(_dependencyMap[7], \"expo-linking\");\n  var Linking = _interopNamespace(_expoLinking);\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  function AuthCallback() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const {\n      processSessionId\n    } = (0, _srcContextAuthContext.useAuth)();\n    const hasProcessed = (0, _react.useRef)(false);\n    const params = (0, _expoRouter.useLocalSearchParams)();\n    (0, _react.useEffect)(() => {\n      const handleAuth = async () => {\n        if (hasProcessed.current) return;\n        hasProcessed.current = true;\n        try {\n          // Get the current URL to extract session_id from fragment\n          const url = await Linking.getInitialURL();\n          let sessionId = null;\n          if (url) {\n            // Extract session_id from URL fragment\n            const hashIndex = url.indexOf('#');\n            if (hashIndex !== -1) {\n              const fragment = url.substring(hashIndex + 1);\n              const params = new URLSearchParams(fragment);\n              sessionId = params.get('session_id');\n            }\n          }\n\n          // Also check URL params\n          if (!sessionId && params.session_id) {\n            sessionId = params.session_id;\n          }\n          if (sessionId) {\n            const success = await processSessionId(sessionId);\n            if (success) {\n              router.replace('/(tabs)/dashboard');\n            } else {\n              router.replace('/login');\n            }\n          } else {\n            router.replace('/login');\n          }\n        } catch (error) {\n          console.error('Auth callback error:', error);\n          router.replace('/login');\n        }\n      };\n      handleAuth();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: \"#1E3A5F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(Text.default, {\n        style: styles.text,\n        children: \"Signing you in...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthCallback, \"VGYa+uopPFj1iQ3yaepklZI206o=\", false, function () {\n    return [_expoRouter.useRouter, _srcContextAuthContext.useAuth, _expoRouter.useLocalSearchParams];\n  });\n  _c = AuthCallback;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#FFFFFF'\n    },\n    text: {\n      marginTop: 16,\n      fontSize: 16,\n      color: '#4B5563'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"AuthCallback\");\n});","lineCount":138,"map":[[29,2,7,15,"Object"],[29,8,7,15],[29,9,7,15,"defineProperty"],[29,23,7,15],[29,24,7,15,"exports"],[29,31,7,15],[30,4,7,15,"enumerable"],[30,14,7,15],[31,4,7,15,"get"],[31,7,7,15],[31,18,7,15,"get"],[31,19,7,15],[32,6,7,15],[32,13,7,15,"AuthCallback"],[32,25,7,15],[33,4,7,15],[34,2,7,15],[35,2,1,0],[35,6,1,0,"_react"],[35,12,1,0],[35,15,1,0,"require"],[35,22,1,0],[35,23,1,0,"_dependencyMap"],[35,37,1,0],[36,2,1,49],[36,6,1,49,"_reactNativeWebDistExportsView"],[36,36,1,49],[36,39,1,49,"require"],[36,46,1,49],[36,47,1,49,"_dependencyMap"],[36,61,1,49],[37,2,1,49],[37,6,1,49,"View"],[37,10,1,49],[37,13,1,49,"_interopDefault"],[37,28,1,49],[37,29,1,49,"_reactNativeWebDistExportsView"],[37,59,1,49],[38,2,1,49],[38,6,1,49,"_reactNativeWebDistExportsActivityIndicator"],[38,49,1,49],[38,52,1,49,"require"],[38,59,1,49],[38,60,1,49,"_dependencyMap"],[38,74,1,49],[39,2,1,49],[39,6,1,49,"ActivityIndicator"],[39,23,1,49],[39,26,1,49,"_interopDefault"],[39,41,1,49],[39,42,1,49,"_reactNativeWebDistExportsActivityIndicator"],[39,85,1,49],[40,2,1,49],[40,6,1,49,"_reactNativeWebDistExportsStyleSheet"],[40,42,1,49],[40,45,1,49,"require"],[40,52,1,49],[40,53,1,49,"_dependencyMap"],[40,67,1,49],[41,2,1,49],[41,6,1,49,"StyleSheet"],[41,16,1,49],[41,19,1,49,"_interopDefault"],[41,34,1,49],[41,35,1,49,"_reactNativeWebDistExportsStyleSheet"],[41,71,1,49],[42,2,1,49],[42,6,1,49,"_reactNativeWebDistExportsText"],[42,36,1,49],[42,39,1,49,"require"],[42,46,1,49],[42,47,1,49,"_dependencyMap"],[42,61,1,49],[43,2,1,49],[43,6,1,49,"Text"],[43,10,1,49],[43,13,1,49,"_interopDefault"],[43,28,1,49],[43,29,1,49,"_reactNativeWebDistExportsText"],[43,59,1,49],[44,2,3,0],[44,6,3,0,"_expoRouter"],[44,17,3,0],[44,20,3,0,"require"],[44,27,3,0],[44,28,3,0,"_dependencyMap"],[44,42,3,0],[45,2,4,0],[45,6,4,0,"_srcContextAuthContext"],[45,28,4,0],[45,31,4,0,"require"],[45,38,4,0],[45,39,4,0,"_dependencyMap"],[45,53,4,0],[46,2,5,0],[46,6,5,0,"_expoLinking"],[46,18,5,0],[46,21,5,0,"require"],[46,28,5,0],[46,29,5,0,"_dependencyMap"],[46,43,5,0],[47,2,5,0],[47,6,5,0,"Linking"],[47,13,5,0],[47,16,5,0,"_interopNamespace"],[47,33,5,0],[47,34,5,0,"_expoLinking"],[47,46,5,0],[48,2,5,40],[48,6,5,40,"_reactJsxDevRuntime"],[48,25,5,40],[48,28,5,40,"require"],[48,35,5,40],[48,36,5,40,"_dependencyMap"],[48,50,5,40],[49,2,7,15],[49,11,7,24,"AuthCallback"],[49,23,7,36,"AuthCallback"],[49,24,7,36],[49,26,7,39],[50,4,7,39,"_s"],[50,6,7,39],[51,4,8,2],[51,10,8,8,"router"],[51,16,8,14],[51,19,8,17],[51,23,8,17,"useRouter"],[51,34,8,26],[51,35,8,26,"useRouter"],[51,44,8,26],[51,46,8,27],[51,47,8,28],[52,4,9,2],[52,10,9,8],[53,6,9,10,"processSessionId"],[54,4,9,27],[54,5,9,28],[54,8,9,31],[54,12,9,31,"useAuth"],[54,34,9,38],[54,35,9,38,"useAuth"],[54,42,9,38],[54,44,9,39],[54,45,9,40],[55,4,10,2],[55,10,10,8,"hasProcessed"],[55,22,10,20],[55,25,10,23],[55,29,10,23,"useRef"],[55,35,10,29],[55,36,10,29,"useRef"],[55,42,10,29],[55,44,10,30],[55,49,10,35],[55,50,10,36],[56,4,11,2],[56,10,11,8,"params"],[56,16,11,14],[56,19,11,17],[56,23,11,17,"useLocalSearchParams"],[56,34,11,37],[56,35,11,37,"useLocalSearchParams"],[56,55,11,37],[56,57,11,38],[56,58,11,39],[57,4,13,2],[57,8,13,2,"useEffect"],[57,14,13,11],[57,15,13,11,"useEffect"],[57,24,13,11],[57,26,13,12],[57,32,13,18],[58,6,14,4],[58,12,14,10,"handleAuth"],[58,22,14,20],[58,25,14,23],[58,31,14,23,"handleAuth"],[58,32,14,23],[58,37,14,35],[59,8,15,6],[59,12,15,10,"hasProcessed"],[59,24,15,22],[59,25,15,23,"current"],[59,32,15,30],[59,34,15,32],[60,8,16,6,"hasProcessed"],[60,20,16,18],[60,21,16,19,"current"],[60,28,16,26],[60,31,16,29],[60,35,16,33],[61,8,18,6],[61,12,18,10],[62,10,19,8],[63,10,20,8],[63,16,20,14,"url"],[63,19,20,17],[63,22,20,20],[63,28,20,26,"Linking"],[63,35,20,33],[63,36,20,34,"getInitialURL"],[63,49,20,47],[63,50,20,48],[63,51,20,49],[64,10,21,8],[64,14,21,12,"sessionId"],[64,23,21,21],[64,26,21,24],[64,30,21,28],[65,10,23,8],[65,14,23,12,"url"],[65,17,23,15],[65,19,23,17],[66,12,24,10],[67,12,25,10],[67,18,25,16,"hashIndex"],[67,27,25,25],[67,30,25,28,"url"],[67,33,25,31],[67,34,25,32,"indexOf"],[67,41,25,39],[67,42,25,40],[67,45,25,43],[67,46,25,44],[68,12,26,10],[68,16,26,14,"hashIndex"],[68,25,26,23],[68,30,26,28],[68,31,26,29],[68,32,26,30],[68,34,26,32],[69,14,27,12],[69,20,27,18,"fragment"],[69,28,27,26],[69,31,27,29,"url"],[69,34,27,32],[69,35,27,33,"substring"],[69,44,27,42],[69,45,27,43,"hashIndex"],[69,54,27,52],[69,57,27,55],[69,58,27,56],[69,59,27,57],[70,14,28,12],[70,20,28,18,"params"],[70,26,28,24],[70,29,28,27],[70,33,28,31,"URLSearchParams"],[70,48,28,46],[70,49,28,47,"fragment"],[70,57,28,55],[70,58,28,56],[71,14,29,12,"sessionId"],[71,23,29,21],[71,26,29,24,"params"],[71,32,29,30],[71,33,29,31,"get"],[71,36,29,34],[71,37,29,35],[71,49,29,47],[71,50,29,48],[72,12,30,10],[73,10,31,8],[75,10,33,8],[76,10,34,8],[76,14,34,12],[76,15,34,13,"sessionId"],[76,24,34,22],[76,28,34,26,"params"],[76,34,34,32],[76,35,34,33,"session_id"],[76,45,34,43],[76,47,34,45],[77,12,35,10,"sessionId"],[77,21,35,19],[77,24,35,22,"params"],[77,30,35,28],[77,31,35,29,"session_id"],[77,41,35,49],[78,10,36,8],[79,10,38,8],[79,14,38,12,"sessionId"],[79,23,38,21],[79,25,38,23],[80,12,39,10],[80,18,39,16,"success"],[80,25,39,23],[80,28,39,26],[80,34,39,32,"processSessionId"],[80,50,39,48],[80,51,39,49,"sessionId"],[80,60,39,58],[80,61,39,59],[81,12,40,10],[81,16,40,14,"success"],[81,23,40,21],[81,25,40,23],[82,14,41,12,"router"],[82,20,41,18],[82,21,41,19,"replace"],[82,28,41,26],[82,29,41,27],[82,48,41,46],[82,49,41,47],[83,12,42,10],[83,13,42,11],[83,19,42,17],[84,14,43,12,"router"],[84,20,43,18],[84,21,43,19,"replace"],[84,28,43,26],[84,29,43,27],[84,37,43,35],[84,38,43,36],[85,12,44,10],[86,10,45,8],[86,11,45,9],[86,17,45,15],[87,12,46,10,"router"],[87,18,46,16],[87,19,46,17,"replace"],[87,26,46,24],[87,27,46,25],[87,35,46,33],[87,36,46,34],[88,10,47,8],[89,8,48,6],[89,9,48,7],[89,10,48,8],[89,17,48,15,"error"],[89,22,48,20],[89,24,48,22],[90,10,49,8,"console"],[90,17,49,15],[90,18,49,16,"error"],[90,23,49,21],[90,24,49,22],[90,46,49,44],[90,48,49,46,"error"],[90,53,49,51],[90,54,49,52],[91,10,50,8,"router"],[91,16,50,14],[91,17,50,15,"replace"],[91,24,50,22],[91,25,50,23],[91,33,50,31],[91,34,50,32],[92,8,51,6],[93,6,52,4],[93,7,52,5],[94,6,54,4,"handleAuth"],[94,16,54,14],[94,17,54,15],[94,18,54,16],[95,4,55,2],[95,5,55,3],[95,7,55,5],[95,9,55,7],[95,10,55,8],[96,4,57,2],[96,24,58,4],[96,28,58,4,"_reactJsxDevRuntime"],[96,47,58,4],[96,48,58,4,"jsxDEV"],[96,54,58,4],[96,56,58,5,"View"],[96,60,58,9],[96,61,58,9,"default"],[96,68,58,9],[97,6,58,10,"style"],[97,11,58,15],[97,13,58,17,"styles"],[97,19,58,23],[97,20,58,24,"container"],[97,29,58,34],[98,6,58,34,"children"],[98,14,58,34],[98,30,59,6],[98,34,59,6,"_reactJsxDevRuntime"],[98,53,59,6],[98,54,59,6,"jsxDEV"],[98,60,59,6],[98,62,59,7,"ActivityIndicator"],[98,79,59,24],[98,80,59,24,"default"],[98,87,59,24],[99,8,59,25,"size"],[99,12,59,29],[99,14,59,30],[99,21,59,37],[100,8,59,38,"color"],[100,13,59,43],[100,15,59,44],[101,6,59,53],[102,8,59,53,"fileName"],[102,16,59,53],[102,18,59,53,"_jsxFileName"],[102,30,59,53],[103,8,59,53,"lineNumber"],[103,18,59,53],[104,8,59,53,"columnNumber"],[104,20,59,53],[105,6,59,53],[105,13,59,55],[105,14,59,56],[105,29,60,6],[105,33,60,6,"_reactJsxDevRuntime"],[105,52,60,6],[105,53,60,6,"jsxDEV"],[105,59,60,6],[105,61,60,7,"Text"],[105,65,60,11],[105,66,60,11,"default"],[105,73,60,11],[106,8,60,12,"style"],[106,13,60,17],[106,15,60,19,"styles"],[106,21,60,25],[106,22,60,26,"text"],[106,26,60,31],[107,8,60,31,"children"],[107,16,60,31],[107,18,60,32],[108,6,60,49],[109,8,60,49,"fileName"],[109,16,60,49],[109,18,60,49,"_jsxFileName"],[109,30,60,49],[110,8,60,49,"lineNumber"],[110,18,60,49],[111,8,60,49,"columnNumber"],[111,20,60,49],[112,6,60,49],[112,13,60,55],[112,14,60,56],[113,4,60,56],[114,6,60,56,"fileName"],[114,14,60,56],[114,16,60,56,"_jsxFileName"],[114,28,60,56],[115,6,60,56,"lineNumber"],[115,16,60,56],[116,6,60,56,"columnNumber"],[116,18,60,56],[117,4,60,56],[117,11,61,10],[117,12,61,11],[118,2,63,0],[119,2,63,1,"_s"],[119,4,63,1],[119,5,7,24,"AuthCallback"],[119,17,7,36],[120,4,7,36],[120,12,8,17,"useRouter"],[120,23,8,26],[120,24,8,26,"useRouter"],[120,33,8,26],[120,35,9,31,"useAuth"],[120,57,9,38],[120,58,9,38,"useAuth"],[120,65,9,38],[120,67,11,17,"useLocalSearchParams"],[120,78,11,37],[120,79,11,37,"useLocalSearchParams"],[120,99,11,37],[121,2,11,37],[122,2,11,37,"_c"],[122,4,11,37],[122,7,7,24,"AuthCallback"],[122,19,7,36],[123,2,65,0],[123,8,65,6,"styles"],[123,14,65,12],[123,17,65,15,"StyleSheet"],[123,27,65,25],[123,28,65,25,"default"],[123,35,65,25],[123,36,65,26,"create"],[123,42,65,32],[123,43,65,33],[124,4,66,2,"container"],[124,13,66,11],[124,15,66,13],[125,6,67,4,"flex"],[125,10,67,8],[125,12,67,10],[125,13,67,11],[126,6,68,4,"justifyContent"],[126,20,68,18],[126,22,68,20],[126,30,68,28],[127,6,69,4,"alignItems"],[127,16,69,14],[127,18,69,16],[127,26,69,24],[128,6,70,4,"backgroundColor"],[128,21,70,19],[128,23,70,21],[129,4,71,2],[129,5,71,3],[130,4,72,2,"text"],[130,8,72,6],[130,10,72,8],[131,6,73,4,"marginTop"],[131,15,73,13],[131,17,73,15],[131,19,73,17],[132,6,74,4,"fontSize"],[132,14,74,12],[132,16,74,14],[132,18,74,16],[133,6,75,4,"color"],[133,11,75,9],[133,13,75,11],[134,4,76,2],[135,2,77,0],[135,3,77,1],[135,4,77,2],[136,2,77,3],[136,6,77,3,"_c"],[136,8,77,3],[137,2,77,3,"$RefreshReg$"],[137,14,77,3],[137,15,77,3,"_c"],[137,17,77,3],[138,0,77,3],[138,3]],"functionMap":{"names":["<global>","AuthCallback","useEffect$argument_0","handleAuth"],"mappings":"AAA;eCM;YCM;uBCC;KDsC;GDG;CDQ"},"hasCjsExports":false},"type":"js/module"}]}