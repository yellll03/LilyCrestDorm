{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":38,"index":198}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    const checkAuth = async () => {\n      try {\n        setIsLoading(true);\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          const response = await _servicesApi.api.get('/auth/me', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Auth check failed:', error);\n        await AsyncStorage.default.removeItem('session_token');\n        setUser(null);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        setIsLoading(true);\n        // For now, we use Google OAuth, so this is a placeholder\n        return false;\n      } catch (error) {\n        console.error('Login error:', error);\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const processSessionId = async sessionId => {\n      try {\n        setIsLoading(true);\n        const response = await _servicesApi.api.post('/auth/session', {\n          session_id: sessionId\n        });\n        const {\n          user: userData,\n          session_token\n        } = response.data;\n        await AsyncStorage.default.setItem('session_token', session_token);\n        setUser(userData);\n        return true;\n      } catch (error) {\n        console.error('Process session error:', error);\n        return false;\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const logout = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('session_token');\n        if (token) {\n          await _servicesApi.api.post('/auth/logout', {}, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        await AsyncStorage.default.removeItem('session_token');\n        setUser(null);\n      }\n    };\n    const updateUser = data => {\n      if (user) {\n        setUser(Object.assign({}, user, data));\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        login,\n        logout,\n        checkAuth,\n        processSessionId,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"hJ9EEPhYWvr18jCXlmlRk12Anaw=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":133,"map":[[15,2,27,0,"exports"],[15,9,27,0],[15,10,27,0,"AuthProvider"],[15,22,27,0],[15,25,27,0,"AuthProvider"],[15,37,27,0],[16,2,119,0,"exports"],[16,9,119,0],[16,10,119,0,"useAuth"],[16,17,119,0],[16,20,119,0,"useAuth"],[16,27,119,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_servicesApi"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,3,38],[21,6,3,38,"_reactJsxDevRuntime"],[21,25,3,38],[21,28,3,38,"require"],[21,35,3,38],[21,36,3,38,"_dependencyMap"],[21,50,3,38],[22,2,25,0],[22,8,25,6,"AuthContext"],[22,19,25,17],[22,35,25,20],[22,39,25,20,"createContext"],[22,45,25,33],[22,46,25,33,"createContext"],[22,59,25,33],[22,61,25,63,"undefined"],[22,70,25,72],[22,71,25,73],[23,2,27,7],[23,11,27,16,"AuthProvider"],[23,23,27,28,"AuthProvider"],[23,24,27,29],[24,4,27,31,"children"],[25,2,27,65],[25,3,27,66],[25,5,27,68],[26,4,27,68,"_s"],[26,6,27,68],[27,4,28,2],[27,10,28,8],[27,11,28,9,"user"],[27,15,28,13],[27,17,28,15,"setUser"],[27,24,28,22],[27,25,28,23],[27,28,28,26],[27,32,28,26,"useState"],[27,38,28,34],[27,39,28,34,"useState"],[27,47,28,34],[27,49,28,48],[27,53,28,52],[27,54,28,53],[28,4,29,2],[28,10,29,8],[28,11,29,9,"isLoading"],[28,20,29,18],[28,22,29,20,"setIsLoading"],[28,34,29,32],[28,35,29,33],[28,38,29,36],[28,42,29,36,"useState"],[28,48,29,44],[28,49,29,44,"useState"],[28,57,29,44],[28,59,29,45],[28,63,29,49],[28,64,29,50],[29,4,31,2],[29,10,31,8,"checkAuth"],[29,19,31,17],[29,22,31,20],[29,28,31,20,"checkAuth"],[29,29,31,20],[29,34,31,32],[30,6,32,4],[30,10,32,8],[31,8,33,6,"setIsLoading"],[31,20,33,18],[31,21,33,19],[31,25,33,23],[31,26,33,24],[32,8,34,6],[32,14,34,12,"token"],[32,19,34,17],[32,22,34,20],[32,28,34,26,"AsyncStorage"],[32,40,34,38],[32,41,34,38,"default"],[32,48,34,38],[32,49,34,39,"getItem"],[32,56,34,46],[32,57,34,47],[32,72,34,62],[32,73,34,63],[33,8,35,6],[33,12,35,10,"token"],[33,17,35,15],[33,19,35,17],[34,10,36,8],[34,16,36,14,"response"],[34,24,36,22],[34,27,36,25],[34,33,36,31,"api"],[34,45,36,34],[34,46,36,34,"api"],[34,49,36,34],[34,50,36,35,"get"],[34,53,36,38],[34,54,36,39],[34,64,36,49],[34,66,36,51],[35,12,37,10,"headers"],[35,19,37,17],[35,21,37,19],[36,14,37,21,"Authorization"],[36,27,37,34],[36,29,37,36],[36,39,37,46,"token"],[36,44,37,51],[37,12,37,54],[38,10,38,8],[38,11,38,9],[38,12,38,10],[39,10,39,8,"setUser"],[39,17,39,15],[39,18,39,16,"response"],[39,26,39,24],[39,27,39,25,"data"],[39,31,39,29],[39,32,39,30],[40,8,40,6],[41,6,41,4],[41,7,41,5],[41,8,41,6],[41,15,41,13,"error"],[41,20,41,18],[41,22,41,20],[42,8,42,6,"console"],[42,15,42,13],[42,16,42,14,"log"],[42,19,42,17],[42,20,42,18],[42,40,42,38],[42,42,42,40,"error"],[42,47,42,45],[42,48,42,46],[43,8,43,6],[43,14,43,12,"AsyncStorage"],[43,26,43,24],[43,27,43,24,"default"],[43,34,43,24],[43,35,43,25,"removeItem"],[43,45,43,35],[43,46,43,36],[43,61,43,51],[43,62,43,52],[44,8,44,6,"setUser"],[44,15,44,13],[44,16,44,14],[44,20,44,18],[44,21,44,19],[45,6,45,4],[45,7,45,5],[45,16,45,14],[46,8,46,6,"setIsLoading"],[46,20,46,18],[46,21,46,19],[46,26,46,24],[46,27,46,25],[47,6,47,4],[48,4,48,2],[48,5,48,3],[49,4,50,2],[49,10,50,8,"login"],[49,15,50,13],[49,18,50,16],[49,24,50,16,"login"],[49,25,50,23,"email"],[49,30,50,36],[49,32,50,38,"password"],[49,40,50,54],[49,45,50,77],[50,6,51,4],[50,10,51,8],[51,8,52,6,"setIsLoading"],[51,20,52,18],[51,21,52,19],[51,25,52,23],[51,26,52,24],[52,8,53,6],[53,8,54,6],[53,15,54,13],[53,20,54,18],[54,6,55,4],[54,7,55,5],[54,8,55,6],[54,15,55,13,"error"],[54,20,55,18],[54,22,55,20],[55,8,56,6,"console"],[55,15,56,13],[55,16,56,14,"error"],[55,21,56,19],[55,22,56,20],[55,36,56,34],[55,38,56,36,"error"],[55,43,56,41],[55,44,56,42],[56,8,57,6],[56,15,57,13],[56,20,57,18],[57,6,58,4],[57,7,58,5],[57,16,58,14],[58,8,59,6,"setIsLoading"],[58,20,59,18],[58,21,59,19],[58,26,59,24],[58,27,59,25],[59,6,60,4],[60,4,61,2],[60,5,61,3],[61,4,63,2],[61,10,63,8,"processSessionId"],[61,26,63,24],[61,29,63,27],[61,35,63,34,"sessionId"],[61,44,63,51],[61,48,63,74],[62,6,64,4],[62,10,64,8],[63,8,65,6,"setIsLoading"],[63,20,65,18],[63,21,65,19],[63,25,65,23],[63,26,65,24],[64,8,66,6],[64,14,66,12,"response"],[64,22,66,20],[64,25,66,23],[64,31,66,29,"api"],[64,43,66,32],[64,44,66,32,"api"],[64,47,66,32],[64,48,66,33,"post"],[64,52,66,37],[64,53,66,38],[64,68,66,53],[64,70,66,55],[65,10,66,57,"session_id"],[65,20,66,67],[65,22,66,69,"sessionId"],[66,8,66,79],[66,9,66,80],[66,10,66,81],[67,8,67,6],[67,14,67,12],[68,10,67,14,"user"],[68,14,67,18],[68,16,67,20,"userData"],[68,24,67,28],[69,10,67,30,"session_token"],[70,8,67,44],[70,9,67,45],[70,12,67,48,"response"],[70,20,67,56],[70,21,67,57,"data"],[70,25,67,61],[71,8,69,6],[71,14,69,12,"AsyncStorage"],[71,26,69,24],[71,27,69,24,"default"],[71,34,69,24],[71,35,69,25,"setItem"],[71,42,69,32],[71,43,69,33],[71,58,69,48],[71,60,69,50,"session_token"],[71,73,69,63],[71,74,69,64],[72,8,70,6,"setUser"],[72,15,70,13],[72,16,70,14,"userData"],[72,24,70,22],[72,25,70,23],[73,8,71,6],[73,15,71,13],[73,19,71,17],[74,6,72,4],[74,7,72,5],[74,8,72,6],[74,15,72,13,"error"],[74,20,72,18],[74,22,72,20],[75,8,73,6,"console"],[75,15,73,13],[75,16,73,14,"error"],[75,21,73,19],[75,22,73,20],[75,46,73,44],[75,48,73,46,"error"],[75,53,73,51],[75,54,73,52],[76,8,74,6],[76,15,74,13],[76,20,74,18],[77,6,75,4],[77,7,75,5],[77,16,75,14],[78,8,76,6,"setIsLoading"],[78,20,76,18],[78,21,76,19],[78,26,76,24],[78,27,76,25],[79,6,77,4],[80,4,78,2],[80,5,78,3],[81,4,80,2],[81,10,80,8,"logout"],[81,16,80,14],[81,19,80,17],[81,25,80,17,"logout"],[81,26,80,17],[81,31,80,29],[82,6,81,4],[82,10,81,8],[83,8,82,6],[83,14,82,12,"token"],[83,19,82,17],[83,22,82,20],[83,28,82,26,"AsyncStorage"],[83,40,82,38],[83,41,82,38,"default"],[83,48,82,38],[83,49,82,39,"getItem"],[83,56,82,46],[83,57,82,47],[83,72,82,62],[83,73,82,63],[84,8,83,6],[84,12,83,10,"token"],[84,17,83,15],[84,19,83,17],[85,10,84,8],[85,16,84,14,"api"],[85,28,84,17],[85,29,84,17,"api"],[85,32,84,17],[85,33,84,18,"post"],[85,37,84,22],[85,38,84,23],[85,52,84,37],[85,54,84,39],[85,55,84,40],[85,56,84,41],[85,58,84,43],[86,12,85,10,"headers"],[86,19,85,17],[86,21,85,19],[87,14,85,21,"Authorization"],[87,27,85,34],[87,29,85,36],[87,39,85,46,"token"],[87,44,85,51],[88,12,85,54],[89,10,86,8],[89,11,86,9],[89,12,86,10],[90,8,87,6],[91,6,88,4],[91,7,88,5],[91,8,88,6],[91,15,88,13,"error"],[91,20,88,18],[91,22,88,20],[92,8,89,6,"console"],[92,15,89,13],[92,16,89,14,"error"],[92,21,89,19],[92,22,89,20],[92,37,89,35],[92,39,89,37,"error"],[92,44,89,42],[92,45,89,43],[93,6,90,4],[93,7,90,5],[93,16,90,14],[94,8,91,6],[94,14,91,12,"AsyncStorage"],[94,26,91,24],[94,27,91,24,"default"],[94,34,91,24],[94,35,91,25,"removeItem"],[94,45,91,35],[94,46,91,36],[94,61,91,51],[94,62,91,52],[95,8,92,6,"setUser"],[95,15,92,13],[95,16,92,14],[95,20,92,18],[95,21,92,19],[96,6,93,4],[97,4,94,2],[97,5,94,3],[98,4,96,2],[98,10,96,8,"updateUser"],[98,20,96,18],[98,23,96,22,"data"],[98,27,96,41],[98,31,96,46],[99,6,97,4],[99,10,97,8,"user"],[99,14,97,12],[99,16,97,14],[100,8,98,6,"setUser"],[100,15,98,13],[100,16,98,13,"Object"],[100,22,98,13],[100,23,98,13,"assign"],[100,29,98,13],[100,34,98,19,"user"],[100,38,98,23],[100,40,98,28,"data"],[100,44,98,32],[100,45,98,34],[100,46,98,35],[101,6,99,4],[102,4,100,2],[102,5,100,3],[103,4,102,2],[103,24,103,4],[103,28,103,4,"_reactJsxDevRuntime"],[103,47,103,4],[103,48,103,4,"jsxDEV"],[103,54,103,4],[103,56,103,5,"AuthContext"],[103,67,103,16],[103,68,103,17,"Provider"],[103,76,103,25],[104,6,104,6,"value"],[104,11,104,11],[104,13,104,13],[105,8,105,8,"user"],[105,12,105,12],[106,8,106,8,"isLoading"],[106,17,106,17],[107,8,107,8,"login"],[107,13,107,13],[108,8,108,8,"logout"],[108,14,108,14],[109,8,109,8,"checkAuth"],[109,17,109,17],[110,8,110,8,"processSessionId"],[110,24,110,24],[111,8,111,8,"updateUser"],[112,6,112,6],[112,7,112,8],[113,6,112,8,"children"],[113,14,112,8],[113,16,114,7,"children"],[114,4,114,15],[115,6,114,15,"fileName"],[115,14,114,15],[115,16,114,15,"_jsxFileName"],[115,28,114,15],[116,6,114,15,"lineNumber"],[116,16,114,15],[117,6,114,15,"columnNumber"],[117,18,114,15],[118,4,114,15],[118,11,115,26],[118,12,115,27],[119,2,117,0],[120,2,117,1,"_s"],[120,4,117,1],[120,5,27,16,"AuthProvider"],[120,17,27,28],[121,2,27,28,"_c"],[121,4,27,28],[121,7,27,16,"AuthProvider"],[121,19,27,28],[122,2,119,7],[122,11,119,16,"useAuth"],[122,18,119,23,"useAuth"],[122,19,119,23],[122,21,119,26],[123,4,119,26,"_s2"],[123,7,119,26],[124,4,120,2],[124,10,120,8,"context"],[124,17,120,15],[124,20,120,18],[124,24,120,18,"useContext"],[124,30,120,28],[124,31,120,28,"useContext"],[124,41,120,28],[124,43,120,29,"AuthContext"],[124,54,120,40],[124,55,120,41],[125,4,121,2],[125,8,121,6,"context"],[125,15,121,13],[125,20,121,18,"undefined"],[125,29,121,27],[125,31,121,29],[126,6,122,4],[126,12,122,10],[126,16,122,14,"Error"],[126,21,122,19],[126,22,122,20],[126,67,122,65],[126,68,122,66],[127,4,123,2],[128,4,124,2],[128,11,124,9,"context"],[128,18,124,16],[129,2,125,0],[130,2,125,1,"_s2"],[130,5,125,1],[130,6,119,16,"useAuth"],[130,13,119,23],[131,2,119,23],[131,6,119,23,"_c"],[131,8,119,23],[132,2,119,23,"$RefreshReg$"],[132,14,119,23],[132,15,119,23,"_c"],[132,17,119,23],[133,0,119,23],[133,3]],"functionMap":{"names":["<global>","AuthProvider","checkAuth","login","processSessionId","logout","updateUser","useAuth"],"mappings":"AAA;OC0B;oBCI;GDiB;gBEE;GFW;2BGE;GHe;iBIE;GJc;qBKE;GLI;CDiB;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}